---
layout:     post
title:      "Rendering an .obj in WebGL"
subtitle:   "How to use Three.js to calculate normals and render an object with Gouraud Shading"
date:       2014-06-10 12:00:00
author:     "ajbeach2"
header-img: "img/bunny_render.png"
---

I have started learning more about WebGL, and in the process I needed a way to render an .obj file to with three.js. There is an example on the three.js documentation site <a href="http://threejs.org/examples/webgl_loader_obj.html">here</a>, but the obj file I was using didn't have any of the vector nomrals.  This became an interesting exercise in calculating surface normals.

<h2 class="section-heading">The Stanford Bunny and the obj format</h2>

<p><a href="http://en.wikipedia.org/wiki/Stanford_bunny">The Standford Bunny</a> is a test mesh that can be found in various formats online.  For whatever reason, the obj I found of the bunny didn't have any normals.</p>

<p>You can read more about the .obj format <a href="http://en.wikipedia.org/wiki/Wavefront_.obj_file">Here</a> For the purpose of this tutorial, I am only going to be de dealing with faces and verticies.</p>

~~~ ruby
    # OBJ file format with ext .obj
    # vertex count = 2503
    # face count = 4968
    -0.00341018 0.13031957 0.02175437
    -0.08171916 0.15250145 0.02965609
    -0.03054348 0.12477885 0.00109834
    ...
    f 1069 1647 1578
    f 1058 909 939
    f 421 1176 238
~~~
~~~ ruby
    def print_hi(name)
      puts "Hi, #{name}"
    end
~~~

<blockquote>The dreams of yesterday are the hopes of today and the reality of tomorrow. Science has not yet mastered prophecy. We predict too much for the next year and yet far too little for the next ten.</blockquote>

<p>Spaceflights cannot be stopped. This is not the work of any one man or even a group of men. It is a historical process which mankind is carrying out in accordance with the natural laws of human development.</p>

<h2 class="section-heading">Reaching for the Stars</h2>

<p>As we got further and further away, it [the Earth] diminished in size. Finally it shrank to the size of a marble, the most beautiful you can imagine. That beautiful, warm, living object looked so fragile, so delicate, that if you touched it with a finger it would crumble and fall apart. Seeing this has to change a man.</p>

<a href="#">
    <img class="img-responsive" src="http://placekitten.com/1000/600" alt="">
</a>
<span class="caption text-muted">To go places and do things that have never been done before – that’s what living is all about.</span>

<p>Space, the final frontier. These are the voyages of the Starship Enterprise. Its five-year mission: to explore strange new worlds, to seek out new life and new civilizations, to boldly go where no man has gone before.</p>

<p>As I stand out here in the wonders of the unknown at Hadley, I sort of realize there’s a fundamental truth to our nature, Man must explore, and this is exploration at its greatest.</p>

<p>Placeholder text by <a href="http://spaceipsum.com/">Space Ipsum</a>. Photographs by <a href="https://www.flickr.com/photos/nasacommons/">NASA on The Commons</a>.</p>
